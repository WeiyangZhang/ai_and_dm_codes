
# CSVデータ取得

## ソースコードの文字コード指定

一行目にある

```
# -*- coding: utf-8 -*-
```

はこのソースコードではutf-8の文字コードで日本語を扱うことをpythonに教える役割がある。これが無いと日本語を含むソースコードは動作しない。

## ファイル入力の準備

ディレクトリの中に2つのファイルを用意

```
(好きなディレクトリ)
  ├ load_file.py
  └ sample.txt
```


sample.txtの中身
```
apple
orange
banana
```

load_file.pyの中身は空でOK

spyderでload_file.pyを開く

## ファイルの入力

### ファイルのクローズを明示する書き方（レガシー）


```python
filename = "sample.txt"      #ファイル名を変数に格納
file = open(filename, "r")    # "r"はファイル読み込み専用
str = file.read()             #ファイル全体を読み込む
print(str)
file.close()                  #ファイルを閉じる
```

    apple
    orange
    banana
    

### with句を用いるやり方（推奨）


```python
filename = "sample.txt"
with open(filename, "r") as file:  #ファイルを開いてfileという変数に格納
    str = file.read()
    print(str)
    
    # このブロックを抜けると自動的にcloseしてくれる。closeし忘れを回避できる
```

    apple
    orange
    banana
    

## ファイルを一行ずつ読む関数


```python
filename = "sample.txt"
with open(filename, "r") as file: 
    for line in file.readlines():
        print(line)

```

    apple
    
    orange
    
    banana
    

## 演習2-1
以下のファイルの各行の先頭に"n行目:"という文字列を付けて表示せよ

```
1行目:apple
2行目:orange
3行目:banana
```

ヒント　enumerate()
## pythonのドキュメントを読む

pythonのドキュメント
* https://docs.python.jp/3/index.html

open()のドキュメント
* https://docs.python.jp/3/library/functions.html?highlight=open#open
    

## CSVファイルを読み込む

ファイル入出力の事前作業として、入力するファイルとソースコードを同じディレクトリに配置しておく

1. 郵便番号オープンデータのページにアクセス  http://www.post.japanpost.jp/zipcode/dl/oogaki-zip.html
2. 東京の郵便番号CSVをダウンロード 
3. ダウンロードした「13TOKYO.CSV」を作業ディレクトリに置く
4. 同じディレクトリに load_csv.py という名前で空ファイルを作る
5. spyderから　ファイル→開く→load_csv.py　を選択しそこに以下のソースコードを書く


```python
filename = "13TOKYO.CSV"
with open(filename, "r", encoding='shift_jis') as file: # CSVに日本語が含まれて、Shift-JISであるためエンコーディングの指定が必要
    for line in file.readlines():
        print(line)
```

## CSVファイルを10行だけ読む


```python
filename = "13TOKYO.CSV"
with open(filename, "r", encoding='shift_jis') as file: # CSVに日本語が含まれて、Shift-JISであるためエンコーディングの指定が必要
    for index,line in enumerate(file.readlines()):
        print(line)
        if(index > 10):
            break #10行を超えたらループを抜ける
```

    13101,"100  ","1000000","ﾄｳｷﾖｳﾄ","ﾁﾖﾀﾞｸ","ｲｶﾆｹｲｻｲｶﾞﾅｲﾊﾞｱｲ","東京都","千代田区","以下に掲載がない場合",0,0,0,0,0,0
    
    13101,"102  ","1020072","ﾄｳｷﾖｳﾄ","ﾁﾖﾀﾞｸ","ｲｲﾀﾞﾊﾞｼ","東京都","千代田区","飯田橋",0,0,1,0,0,0
    
    13101,"102  ","1020082","ﾄｳｷﾖｳﾄ","ﾁﾖﾀﾞｸ","ｲﾁﾊﾞﾝﾁﾖｳ","東京都","千代田区","一番町",0,0,0,0,0,0
    
    13101,"101  ","1010032","ﾄｳｷﾖｳﾄ","ﾁﾖﾀﾞｸ","ｲﾜﾓﾄﾁﾖｳ","東京都","千代田区","岩本町",0,0,1,0,0,0
    
    13101,"101  ","1010047","ﾄｳｷﾖｳﾄ","ﾁﾖﾀﾞｸ","ｳﾁｶﾝﾀﾞ","東京都","千代田区","内神田",0,0,1,0,0,0
    
    13101,"100  ","1000011","ﾄｳｷﾖｳﾄ","ﾁﾖﾀﾞｸ","ｳﾁｻｲﾜｲﾁﾖｳ","東京都","千代田区","内幸町",0,0,1,0,0,0
    
    13101,"100  ","1000004","ﾄｳｷﾖｳﾄ","ﾁﾖﾀﾞｸ","ｵｵﾃﾏﾁ(ﾂｷﾞﾉﾋﾞﾙｦﾉｿﾞｸ)","東京都","千代田区","大手町（次のビルを除く）",0,0,1,0,0,0
    
    13101,"100  ","1006890","ﾄｳｷﾖｳﾄ","ﾁﾖﾀﾞｸ","ｵｵﾃﾏﾁｼﾞｴｲｴｲﾋﾞﾙ(ﾁｶｲ･ｶｲｿｳﾌﾒｲ)","東京都","千代田区","大手町ＪＡビル（地階・階層不明）",0,0,0,0,0,0
    
    13101,"100  ","1006801","ﾄｳｷﾖｳﾄ","ﾁﾖﾀﾞｸ","ｵｵﾃﾏﾁｼﾞｴｲｴｲﾋﾞﾙ(1ｶｲ)","東京都","千代田区","大手町ＪＡビル（１階）",0,0,0,0,0,0
    
    13101,"100  ","1006802","ﾄｳｷﾖｳﾄ","ﾁﾖﾀﾞｸ","ｵｵﾃﾏﾁｼﾞｴｲｴｲﾋﾞﾙ(2ｶｲ)","東京都","千代田区","大手町ＪＡビル（２階）",0,0,0,0,0,0
    
    13101,"100  ","1006803","ﾄｳｷﾖｳﾄ","ﾁﾖﾀﾞｸ","ｵｵﾃﾏﾁｼﾞｴｲｴｲﾋﾞﾙ(3ｶｲ)","東京都","千代田区","大手町ＪＡビル（３階）",0,0,0,0,0,0
    
    13101,"100  ","1006804","ﾄｳｷﾖｳﾄ","ﾁﾖﾀﾞｸ","ｵｵﾃﾏﾁｼﾞｴｲｴｲﾋﾞﾙ(4ｶｲ)","東京都","千代田区","大手町ＪＡビル（４階）",0,0,0,0,0,0
    
    

## 文字列の分割(split)


```python
str = "123,hoge,渡部"

tokens = str.split(",")

print(tokens)
print(tokens[0])
print(tokens[1])
print(tokens[2])
```

    ['123', 'hoge', '渡部']
    123
    hoge
    渡部
    

## 部分文字列の取得


```python
str = "abcdefg"
print(str[:2]) #2文字目以前
print(str[2:]) #2文字目より後ろ
print(str[3:5]) #3文字目より後ろで、5文字目以前
print(str[:-1]) #後ろから1文字
```

    ab
    cdefg
    de
    abcdef
    

## CSVの2列目だけを表示


```python
filename = "13TOKYO.CSV"
with open(filename, "r", encoding='shift_jis') as file: 
    for index,line in enumerate(file.readlines()):
        tokens = line.split(",")
        print(tokens[2])
        if(index >= 9):
            break #10行を超えたらループを抜ける
```

    "1000000"
    "1020072"
    "1020082"
    "1010032"
    "1010047"
    "1000011"
    "1000004"
    "1006890"
    "1006801"
    "1006802"
    

## 演習2-2

東京の郵便番号CSV「13TOKYO.CSV」から 郵便番号と旧郵便番号を10行表示せよ

表示

```
郵便番号:1000000, 旧郵便番号:100  
郵便番号:1020072, 旧郵便番号:102  
郵便番号:1020082, 旧郵便番号:102  
郵便番号:1010032, 旧郵便番号:101  
郵便番号:1010047, 旧郵便番号:101  
郵便番号:1000011, 旧郵便番号:100  
郵便番号:1000004, 旧郵便番号:100  
郵便番号:1006890, 旧郵便番号:100  
郵便番号:1006801, 旧郵便番号:100  
郵便番号:1006802, 旧郵便番号:100   
```

* ヒント：郵便番号と旧郵便番号が何列目にあるかは　→　http://www.post.japanpost.jp/zipcode/dl/readme.html
* ヒント：","でsplitするだけだと両端にダブルクオートが残ってしまう。ダブルクオートを削除するためには、部分文字列を取得する
    

## 演習 2-3

郵便番号を第一引数として、入力して都道府県名 市区町村名 町域名　を全角スペースで連結した文字列を返却する関数 lookup_kanji_address() 関数を作成せよ

実行例
```
print(lookup_kanji_address("1420043"))
print(lookup_kanji_address("1420042"))
```

結果
```
東京都　品川区　二葉
東京都　品川区　豊町
```

ヒント：ダブルクオートを文字列に含めたい場合はシングルクオートで文字を定義する '"'

## 演習2-4 (余裕がある人)


```python
演習2-3において、関数を呼び出すたびにCSVファイルを開かなくても答えを返せるようにせよ
```

## 演習 2-5 (余裕がある人)

東京、神奈川、埼玉の3つのファイルから検索できるようにせよ

```
print(lookup_kanji_address("3380012"))
print(lookup_kanji_address("2210821"))
```

```
埼玉県　さいたま市中央区　大戸
神奈川県　横浜市神奈川区　富家町
```

## ファイル出力


```python
filename = "output.txt"
with open(filename, "w") as file:  
    file.write("hoge\n")  # \nは改行コード
```

ファイルoutput.txtができている

## 演習2-6

東京の郵便番号CSV「13TOKYO.CSV」から 郵便番号と旧郵便番号だけを抜き出し、13TOKYO-FILTERD.CSVに出力せよ

## ライブラリ(pandas)を利用したCSV読み込み


```python
import pandas as pd # pandasのライブラリをインポートして pd という変数に格納
filename = "13TOKYO.CSV"
dataframe = pd.read_csv(filename, header=None, encoding='Shift_JIS')
print(dataframe)
```

             0      1        2       3                  4   \
    0     13101    100  1000000  ﾄｳｷﾖｳﾄ              ﾁﾖﾀﾞｸ   
    1     13101    102  1020072  ﾄｳｷﾖｳﾄ              ﾁﾖﾀﾞｸ   
    2     13101    102  1020082  ﾄｳｷﾖｳﾄ              ﾁﾖﾀﾞｸ   
    3     13101    101  1010032  ﾄｳｷﾖｳﾄ              ﾁﾖﾀﾞｸ   
    4     13101    101  1010047  ﾄｳｷﾖｳﾄ              ﾁﾖﾀﾞｸ   
    5     13101    100  1000011  ﾄｳｷﾖｳﾄ              ﾁﾖﾀﾞｸ   
    6     13101    100  1000004  ﾄｳｷﾖｳﾄ              ﾁﾖﾀﾞｸ   
    7     13101    100  1006890  ﾄｳｷﾖｳﾄ              ﾁﾖﾀﾞｸ   
    8     13101    100  1006801  ﾄｳｷﾖｳﾄ              ﾁﾖﾀﾞｸ   
    9     13101    100  1006802  ﾄｳｷﾖｳﾄ              ﾁﾖﾀﾞｸ   
    10    13101    100  1006803  ﾄｳｷﾖｳﾄ              ﾁﾖﾀﾞｸ   
    11    13101    100  1006804  ﾄｳｷﾖｳﾄ              ﾁﾖﾀﾞｸ   
    12    13101    100  1006805  ﾄｳｷﾖｳﾄ              ﾁﾖﾀﾞｸ   
    13    13101    100  1006806  ﾄｳｷﾖｳﾄ              ﾁﾖﾀﾞｸ   
    14    13101    100  1006807  ﾄｳｷﾖｳﾄ              ﾁﾖﾀﾞｸ   
    15    13101    100  1006808  ﾄｳｷﾖｳﾄ              ﾁﾖﾀﾞｸ   
    16    13101    100  1006809  ﾄｳｷﾖｳﾄ              ﾁﾖﾀﾞｸ   
    17    13101    100  1006810  ﾄｳｷﾖｳﾄ              ﾁﾖﾀﾞｸ   
    18    13101    100  1006811  ﾄｳｷﾖｳﾄ              ﾁﾖﾀﾞｸ   
    19    13101    100  1006812  ﾄｳｷﾖｳﾄ              ﾁﾖﾀﾞｸ   
    20    13101    100  1006813  ﾄｳｷﾖｳﾄ              ﾁﾖﾀﾞｸ   
    21    13101    100  1006814  ﾄｳｷﾖｳﾄ              ﾁﾖﾀﾞｸ   
    22    13101    100  1006815  ﾄｳｷﾖｳﾄ              ﾁﾖﾀﾞｸ   
    23    13101    100  1006816  ﾄｳｷﾖｳﾄ              ﾁﾖﾀﾞｸ   
    24    13101    100  1006817  ﾄｳｷﾖｳﾄ              ﾁﾖﾀﾞｸ   
    25    13101    100  1006818  ﾄｳｷﾖｳﾄ              ﾁﾖﾀﾞｸ   
    26    13101    100  1006819  ﾄｳｷﾖｳﾄ              ﾁﾖﾀﾞｸ   
    27    13101    100  1006820  ﾄｳｷﾖｳﾄ              ﾁﾖﾀﾞｸ   
    28    13101    100  1006821  ﾄｳｷﾖｳﾄ              ﾁﾖﾀﾞｸ   
    29    13101    100  1006822  ﾄｳｷﾖｳﾄ              ﾁﾖﾀﾞｸ   
    ...     ...    ...      ...     ...                ...   
    3821  13361  10001  1000102  ﾄｳｷﾖｳﾄ             ｵｵｼﾏﾏﾁ   
    3822  13361  10002  1000211  ﾄｳｷﾖｳﾄ             ｵｵｼﾏﾏﾁ   
    3823  13361  10001  1000103  ﾄｳｷﾖｳﾄ             ｵｵｼﾏﾏﾁ   
    3824  13361  10001  1000104  ﾄｳｷﾖｳﾄ             ｵｵｼﾏﾏﾁ   
    3825  13361  10002  1000212  ﾄｳｷﾖｳﾄ             ｵｵｼﾏﾏﾁ   
    3826  13361  10001  1000101  ﾄｳｷﾖｳﾄ             ｵｵｼﾏﾏﾁ   
    3827  13362  10003  1000301  ﾄｳｷﾖｳﾄ              ﾄｼﾏﾑﾗ   
    3828  13363  10004  1000400  ﾄｳｷﾖｳﾄ            ﾆｲｼﾞﾏﾑﾗ   
    3829  13363  10005  1000511  ﾄｳｷﾖｳﾄ            ﾆｲｼﾞﾏﾑﾗ   
    3830  13363  10004  1000402  ﾄｳｷﾖｳﾄ            ﾆｲｼﾞﾏﾑﾗ   
    3831  13363  10004  1000401  ﾄｳｷﾖｳﾄ            ﾆｲｼﾞﾏﾑﾗ   
    3832  13364  10006  1000601  ﾄｳｷﾖｳﾄ           ｺｳﾂﾞｼﾏﾑﾗ   
    3833  13381  10011  1001100  ﾄｳｷﾖｳﾄ        ﾐﾔｹｼﾞﾏﾐﾔｹﾑﾗ   
    3834  13381  10012  1001212  ﾄｳｷﾖｳﾄ        ﾐﾔｹｼﾞﾏﾐﾔｹﾑﾗ   
    3835  13381  10011  1001103  ﾄｳｷﾖｳﾄ        ﾐﾔｹｼﾞﾏﾐﾔｹﾑﾗ   
    3836  13381  10011  1001102  ﾄｳｷﾖｳﾄ        ﾐﾔｹｼﾞﾏﾐﾔｹﾑﾗ   
    3837  13381  10012  1001213  ﾄｳｷﾖｳﾄ        ﾐﾔｹｼﾞﾏﾐﾔｹﾑﾗ   
    3838  13381  10011  1001101  ﾄｳｷﾖｳﾄ        ﾐﾔｹｼﾞﾏﾐﾔｹﾑﾗ   
    3839  13381  10012  1001211  ﾄｳｷﾖｳﾄ        ﾐﾔｹｼﾞﾏﾐﾔｹﾑﾗ   
    3840  13382  10013  1001301  ﾄｳｷﾖｳﾄ           ﾐｸﾗｼﾞﾏﾑﾗ   
    3841  13401  10014  1001400  ﾄｳｷﾖｳﾄ  ﾊﾁｼﾞﾖｳｼﾞﾏﾊﾁｼﾞﾖｳﾏﾁ   
    3842  13401  10014  1001401  ﾄｳｷﾖｳﾄ  ﾊﾁｼﾞﾖｳｼﾞﾏﾊﾁｼﾞﾖｳﾏﾁ   
    3843  13401  10016  1001621  ﾄｳｷﾖｳﾄ  ﾊﾁｼﾞﾖｳｼﾞﾏﾊﾁｼﾞﾖｳﾏﾁ   
    3844  13401  10016  1001622  ﾄｳｷﾖｳﾄ  ﾊﾁｼﾞﾖｳｼﾞﾏﾊﾁｼﾞﾖｳﾏﾁ   
    3845  13401  10016  1001623  ﾄｳｷﾖｳﾄ  ﾊﾁｼﾞﾖｳｼﾞﾏﾊﾁｼﾞﾖｳﾏﾁ   
    3846  13401  10015  1001511  ﾄｳｷﾖｳﾄ  ﾊﾁｼﾞﾖｳｼﾞﾏﾊﾁｼﾞﾖｳﾏﾁ   
    3847  13402  10017  1001701  ﾄｳｷﾖｳﾄ           ｱｵｶﾞｼﾏﾑﾗ   
    3848  13421  10021  1002100  ﾄｳｷﾖｳﾄ           ｵｶﾞｻﾜﾗﾑﾗ   
    3849  13421  10021  1002101  ﾄｳｷﾖｳﾄ           ｵｶﾞｻﾜﾗﾑﾗ   
    3850  13421  10022  1002211  ﾄｳｷﾖｳﾄ           ｵｶﾞｻﾜﾗﾑﾗ   
    
                                   5    6       7                 8   9   10  11  \
    0                 ｲｶﾆｹｲｻｲｶﾞﾅｲﾊﾞｱｲ  東京都    千代田区        以下に掲載がない場合   0   0   0   
    1                         ｲｲﾀﾞﾊﾞｼ  東京都    千代田区               飯田橋   0   0   1   
    2                        ｲﾁﾊﾞﾝﾁﾖｳ  東京都    千代田区               一番町   0   0   0   
    3                         ｲﾜﾓﾄﾁﾖｳ  東京都    千代田区               岩本町   0   0   1   
    4                          ｳﾁｶﾝﾀﾞ  東京都    千代田区               内神田   0   0   1   
    5                       ｳﾁｻｲﾜｲﾁﾖｳ  東京都    千代田区               内幸町   0   0   1   
    6             ｵｵﾃﾏﾁ(ﾂｷﾞﾉﾋﾞﾙｦﾉｿﾞｸ)  東京都    千代田区      大手町（次のビルを除く）   0   0   1   
    7     ｵｵﾃﾏﾁｼﾞｴｲｴｲﾋﾞﾙ(ﾁｶｲ･ｶｲｿｳﾌﾒｲ)  東京都    千代田区  大手町ＪＡビル（地階・階層不明）   0   0   0   
    8             ｵｵﾃﾏﾁｼﾞｴｲｴｲﾋﾞﾙ(1ｶｲ)  東京都    千代田区       大手町ＪＡビル（１階）   0   0   0   
    9             ｵｵﾃﾏﾁｼﾞｴｲｴｲﾋﾞﾙ(2ｶｲ)  東京都    千代田区       大手町ＪＡビル（２階）   0   0   0   
    10            ｵｵﾃﾏﾁｼﾞｴｲｴｲﾋﾞﾙ(3ｶｲ)  東京都    千代田区       大手町ＪＡビル（３階）   0   0   0   
    11            ｵｵﾃﾏﾁｼﾞｴｲｴｲﾋﾞﾙ(4ｶｲ)  東京都    千代田区       大手町ＪＡビル（４階）   0   0   0   
    12            ｵｵﾃﾏﾁｼﾞｴｲｴｲﾋﾞﾙ(5ｶｲ)  東京都    千代田区       大手町ＪＡビル（５階）   0   0   0   
    13            ｵｵﾃﾏﾁｼﾞｴｲｴｲﾋﾞﾙ(6ｶｲ)  東京都    千代田区       大手町ＪＡビル（６階）   0   0   0   
    14            ｵｵﾃﾏﾁｼﾞｴｲｴｲﾋﾞﾙ(7ｶｲ)  東京都    千代田区       大手町ＪＡビル（７階）   0   0   0   
    15            ｵｵﾃﾏﾁｼﾞｴｲｴｲﾋﾞﾙ(8ｶｲ)  東京都    千代田区       大手町ＪＡビル（８階）   0   0   0   
    16            ｵｵﾃﾏﾁｼﾞｴｲｴｲﾋﾞﾙ(9ｶｲ)  東京都    千代田区       大手町ＪＡビル（９階）   0   0   0   
    17           ｵｵﾃﾏﾁｼﾞｴｲｴｲﾋﾞﾙ(10ｶｲ)  東京都    千代田区      大手町ＪＡビル（１０階）   0   0   0   
    18           ｵｵﾃﾏﾁｼﾞｴｲｴｲﾋﾞﾙ(11ｶｲ)  東京都    千代田区      大手町ＪＡビル（１１階）   0   0   0   
    19           ｵｵﾃﾏﾁｼﾞｴｲｴｲﾋﾞﾙ(12ｶｲ)  東京都    千代田区      大手町ＪＡビル（１２階）   0   0   0   
    20           ｵｵﾃﾏﾁｼﾞｴｲｴｲﾋﾞﾙ(13ｶｲ)  東京都    千代田区      大手町ＪＡビル（１３階）   0   0   0   
    21           ｵｵﾃﾏﾁｼﾞｴｲｴｲﾋﾞﾙ(14ｶｲ)  東京都    千代田区      大手町ＪＡビル（１４階）   0   0   0   
    22           ｵｵﾃﾏﾁｼﾞｴｲｴｲﾋﾞﾙ(15ｶｲ)  東京都    千代田区      大手町ＪＡビル（１５階）   0   0   0   
    23           ｵｵﾃﾏﾁｼﾞｴｲｴｲﾋﾞﾙ(16ｶｲ)  東京都    千代田区      大手町ＪＡビル（１６階）   0   0   0   
    24           ｵｵﾃﾏﾁｼﾞｴｲｴｲﾋﾞﾙ(17ｶｲ)  東京都    千代田区      大手町ＪＡビル（１７階）   0   0   0   
    25           ｵｵﾃﾏﾁｼﾞｴｲｴｲﾋﾞﾙ(18ｶｲ)  東京都    千代田区      大手町ＪＡビル（１８階）   0   0   0   
    26           ｵｵﾃﾏﾁｼﾞｴｲｴｲﾋﾞﾙ(19ｶｲ)  東京都    千代田区      大手町ＪＡビル（１９階）   0   0   0   
    27           ｵｵﾃﾏﾁｼﾞｴｲｴｲﾋﾞﾙ(20ｶｲ)  東京都    千代田区      大手町ＪＡビル（２０階）   0   0   0   
    28           ｵｵﾃﾏﾁｼﾞｴｲｴｲﾋﾞﾙ(21ｶｲ)  東京都    千代田区      大手町ＪＡビル（２１階）   0   0   0   
    29           ｵｵﾃﾏﾁｼﾞｴｲｴｲﾋﾞﾙ(22ｶｲ)  東京都    千代田区      大手町ＪＡビル（２２階）   0   0   0   
    ...                           ...  ...     ...               ...  ..  ..  ..   
    3821                          ｵｶﾀ  東京都     大島町                岡田   0   0   0   
    3822                        ｻｼｷｼﾞ  東京都     大島町               差木地   0   0   0   
    3823                         ｾﾝﾂﾞ  東京都     大島町                泉津   0   0   0   
    3824                          ﾉﾏｼ  東京都     大島町                野増   0   0   0   
    3825                       ﾊﾌﾞﾐﾅﾄ  東京都     大島町               波浮港   0   0   0   
    3826                         ﾓﾄﾏﾁ  東京都     大島町                元町   0   0   1   
    3827                    ﾄｼﾏﾑﾗｲﾁｴﾝ  東京都     利島村             利島村一円   0   0   0   
    3828              ｲｶﾆｹｲｻｲｶﾞﾅｲﾊﾞｱｲ  東京都     新島村        以下に掲載がない場合   0   0   0   
    3829                       ｼｷﾈｼﾞﾏ  東京都     新島村               式根島   0   0   0   
    3830                         ﾎﾝｿﾝ  東京都     新島村                本村   0   0   1   
    3831                        ﾜｶｺﾞｳ  東京都     新島村                若郷   0   0   0   
    3832                 ｺｳﾂﾞｼﾏﾑﾗｲﾁｴﾝ  東京都    神津島村            神津島村一円   0   0   0   
    3833              ｲｶﾆｹｲｻｲｶﾞﾅｲﾊﾞｱｲ  東京都  三宅島三宅村        以下に掲載がない場合   0   0   0   
    3834                           ｱｺ  東京都  三宅島三宅村                阿古   0   0   0   
    3835                         ｲｶﾞﾔ  東京都  三宅島三宅村               伊ケ谷   0   0   0   
    3836                          ｲｽﾞ  東京都  三宅島三宅村                伊豆   0   0   0   
    3837                          ｵﾔﾏ  東京都  三宅島三宅村                雄山   0   0   0   
    3838                         ｶﾐﾂｷ  東京都  三宅島三宅村                神着   0   0   0   
    3839                         ﾂﾎﾞﾀ  東京都  三宅島三宅村                坪田   0   0   0   
    3840                 ﾐｸﾗｼﾞﾏﾑﾗｲﾁｴﾝ  東京都    御蔵島村            御蔵島村一円   0   0   0   
    3841              ｲｶﾆｹｲｻｲｶﾞﾅｲﾊﾞｱｲ  東京都  八丈島八丈町        以下に掲載がない場合   0   0   0   
    3842                       ｵｵｶｺﾞｳ  東京都  八丈島八丈町               大賀郷   0   0   0   
    3843                         ｶｼﾀﾃ  東京都  八丈島八丈町                樫立   0   0   0   
    3844                         ｽｴﾖｼ  東京都  八丈島八丈町                末吉   0   0   0   
    3845                       ﾅｶﾉｺﾞｳ  東京都  八丈島八丈町               中之郷   0   0   0   
    3846                          ﾐﾂﾈ  東京都  八丈島八丈町                三根   0   0   0   
    3847                 ｱｵｶﾞｼﾏﾑﾗｲﾁｴﾝ  東京都    青ヶ島村            青ヶ島村一円   0   0   0   
    3848              ｲｶﾆｹｲｻｲｶﾞﾅｲﾊﾞｱｲ  東京都    小笠原村        以下に掲載がない場合   0   0   0   
    3849                        ﾁﾁｼﾞﾏ  東京都    小笠原村                父島   0   0   0   
    3850                        ﾊﾊｼﾞﾏ  東京都    小笠原村                母島   0   0   0   
    
          12  13  14  
    0      0   0   0  
    1      0   0   0  
    2      0   0   0  
    3      0   0   0  
    4      0   0   0  
    5      0   0   0  
    6      0   0   0  
    7      0   0   0  
    8      0   0   0  
    9      0   0   0  
    10     0   0   0  
    11     0   0   0  
    12     0   0   0  
    13     0   0   0  
    14     0   0   0  
    15     0   0   0  
    16     0   0   0  
    17     0   0   0  
    18     0   0   0  
    19     0   0   0  
    20     0   0   0  
    21     0   0   0  
    22     0   0   0  
    23     0   0   0  
    24     0   0   0  
    25     0   0   0  
    26     0   0   0  
    27     0   0   0  
    28     0   0   0  
    29     0   0   0  
    ...   ..  ..  ..  
    3821   0   0   0  
    3822   0   0   0  
    3823   0   0   0  
    3824   0   0   0  
    3825   0   0   0  
    3826   0   0   0  
    3827   0   0   0  
    3828   0   0   0  
    3829   0   0   0  
    3830   0   0   0  
    3831   0   0   0  
    3832   0   0   0  
    3833   0   0   0  
    3834   0   0   0  
    3835   0   0   0  
    3836   0   0   0  
    3837   0   0   0  
    3838   0   0   0  
    3839   0   0   0  
    3840   0   0   0  
    3841   0   0   0  
    3842   0   0   0  
    3843   0   0   0  
    3844   0   0   0  
    3845   0   0   0  
    3846   0   0   0  
    3847   0   0   0  
    3848   0   0   0  
    3849   0   0   0  
    3850   0   0   0  
    
    [3851 rows x 15 columns]
    

## CSVの4行目までを取得


```python
import pandas as pd
filename = "13TOKYO.CSV"
dataframe = pd.read_csv(filename, header=None, encoding='Shift_JIS')
print(dataframe.iloc[0:5])  # ilocでデータの範囲を絞る
```

          0    1        2       3      4                5    6     7           8   \
    0  13101  100  1000000  ﾄｳｷﾖｳﾄ  ﾁﾖﾀﾞｸ  ｲｶﾆｹｲｻｲｶﾞﾅｲﾊﾞｱｲ  東京都  千代田区  以下に掲載がない場合   
    1  13101  102  1020072  ﾄｳｷﾖｳﾄ  ﾁﾖﾀﾞｸ          ｲｲﾀﾞﾊﾞｼ  東京都  千代田区         飯田橋   
    2  13101  102  1020082  ﾄｳｷﾖｳﾄ  ﾁﾖﾀﾞｸ         ｲﾁﾊﾞﾝﾁﾖｳ  東京都  千代田区         一番町   
    3  13101  101  1010032  ﾄｳｷﾖｳﾄ  ﾁﾖﾀﾞｸ          ｲﾜﾓﾄﾁﾖｳ  東京都  千代田区         岩本町   
    4  13101  101  1010047  ﾄｳｷﾖｳﾄ  ﾁﾖﾀﾞｸ           ｳﾁｶﾝﾀﾞ  東京都  千代田区         内神田   
    
       9   10  11  12  13  14  
    0   0   0   0   0   0   0  
    1   0   0   1   0   0   0  
    2   0   0   0   0   0   0  
    3   0   0   1   0   0   0  
    4   0   0   1   0   0   0  
    

## CSVの4行目までの1列目と2列目だけを取得


```python
import pandas as pd 
filename = "13TOKYO.CSV"
dataframe = pd.read_csv(filename, header=None, encoding='Shift_JIS')
print(dataframe.iloc[0:5,1:3])
```

         1        2
    0  100  1000000
    1  102  1020072
    2  102  1020082
    3  101  1010032
    4  101  1010047
    
